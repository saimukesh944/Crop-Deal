{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nemukesh\\\\Downloads\\\\CropDealApp-main\\\\CropDealApp-main\\\\FrontEndCropDeal\\\\src\\\\component\\\\StripeButton.js\";\nimport React from \"react\";\nimport StripeCheckout from \"react-stripe-checkout\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst StripeButton = _ref => {\n  let {\n    price,\n    id\n  } = _ref;\n  const publishableKey = \"pk_test_51Jg8ikSCkVGSmTrqgG2ASVz9qR0jWA0TiEzN2BgDedDvp3H9mgddqi578uZmDbfjzKAb3Qu0OehLrZTJxDhAVxlC00SPDFH36d\";\n  const stripePrice = price * 100;\n  const cartId = id;\n\n  const onToken = token => {\n    console.log(token);\n    axios.post(\"http://localhost:8083/payment\", {\n      amount: stripePrice,\n      token\n    }).then(response => {\n      console.log(response);\n      UpdateOrder(cartId);\n      alert(\"payment success\");\n    }).catch(error => {\n      console.log(error);\n      alert(\"Payment failed\");\n    });\n  };\n\n  const UpdateOrder = id => {\n    axios.put(\"http://localhost:8054/apicart/Upadtecart\" + \"/\" + id).then(response => {\n      console.log(response); // alert(cartId);\n\n      alert(\"payment success\");\n    }).catch(error => {\n      console.log(error);\n      alert(\"Payment failed\");\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(StripeCheckout, {\n    amount: stripePrice,\n    label: \"Pay Now\",\n    name: \"Wolf Elite\",\n    image: \"https://svgshare.com/i/CUz.svg\",\n    description: `Your total is ${price}`,\n    panelLabel: \"Pay Now\",\n    token: onToken,\n    stripeKey: publishableKey,\n    currency: \"INR\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n\n_c = StripeButton;\nexport default StripeButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"StripeButton\");","map":{"version":3,"sources":["C:/Users/nemukesh/Downloads/CropDealApp-main/CropDealApp-main/FrontEndCropDeal/src/component/StripeButton.js"],"names":["React","StripeCheckout","axios","StripeButton","price","id","publishableKey","stripePrice","cartId","onToken","token","console","log","post","amount","then","response","UpdateOrder","alert","catch","error","put"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,uBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,YAAY,GAAG,QAAkB;AAAA,MAAjB;AAAEC,IAAAA,KAAF;AAAQC,IAAAA;AAAR,GAAiB;AACrC,QAAMC,cAAc,GAAG,6GAAvB;AACA,QAAMC,WAAW,GAAGH,KAAK,GAAG,GAA5B;AACF,QAAMI,MAAM,GAACH,EAAb;;AAEE,QAAMI,OAAO,GAAIC,KAAD,IAAW;AACzBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAR,IAAAA,KAAK,CACFW,IADH,CACQ,+BADR,EACyC;AACrCC,MAAAA,MAAM,EAAEP,WAD6B;AAErCG,MAAAA;AAFqC,KADzC,EAKGK,IALH,CAKSC,QAAD,IAAc;AAClBL,MAAAA,OAAO,CAACC,GAAR,CAAYI,QAAZ;AACAC,MAAAA,WAAW,CAACT,MAAD,CAAX;AACAU,MAAAA,KAAK,CAAC,iBAAD,CAAL;AACD,KATH,EAUGC,KAVH,CAUUC,KAAD,IAAW;AAChBT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,KAAZ;AACAF,MAAAA,KAAK,CAAC,gBAAD,CAAL;AACD,KAbH;AAcD,GAhBD;;AAiBA,QAAMD,WAAW,GAAEZ,EAAD,IAAM;AACtBH,IAAAA,KAAK,CACFmB,GADH,CACO,6CAA2C,GAA3C,GAA+ChB,EADtD,EAEGU,IAFH,CAESC,QAAD,IAAc;AAClBL,MAAAA,OAAO,CAACC,GAAR,CAAYI,QAAZ,EADkB,CAEnB;;AACCE,MAAAA,KAAK,CAAC,iBAAD,CAAL;AACD,KANH,EAOGC,KAPH,CAOUC,KAAD,IAAW;AAChBT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,KAAZ;AACAF,MAAAA,KAAK,CAAC,gBAAD,CAAL;AACD,KAVH;AAWD,GAZD;;AAcA,sBACE,QAAC,cAAD;AACE,IAAA,MAAM,EAAEX,WADV;AAEE,IAAA,KAAK,EAAC,SAFR;AAGE,IAAA,IAAI,EAAC,YAHP;AAIE,IAAA,KAAK,EAAC,gCAJR;AAKE,IAAA,WAAW,EAAG,iBAAgBH,KAAM,EALtC;AAME,IAAA,UAAU,EAAC,SANb;AAOE,IAAA,KAAK,EAAEK,OAPT;AAQE,IAAA,SAAS,EAAEH,cARb;AASE,IAAA,QAAQ,EAAC;AATX;AAAA;AAAA;AAAA;AAAA,UADF;AAaD,CAjDD;;KAAMH,Y;AAmDN,eAAeA,YAAf","sourcesContent":["import React from \"react\";\nimport StripeCheckout from \"react-stripe-checkout\";\nimport axios from \"axios\";\n\nconst StripeButton = ({ price,id }) => {\n  const publishableKey = \"pk_test_51Jg8ikSCkVGSmTrqgG2ASVz9qR0jWA0TiEzN2BgDedDvp3H9mgddqi578uZmDbfjzKAb3Qu0OehLrZTJxDhAVxlC00SPDFH36d\";\n  const stripePrice = price * 100;\nconst cartId=id;\n\n  const onToken = (token) => {\n    console.log(token);\n    axios\n      .post(\"http://localhost:8083/payment\", {\n        amount: stripePrice,\n        token,\n      })\n      .then((response) => {\n        console.log(response);\n        UpdateOrder(cartId);\n        alert(\"payment success\");\n      })\n      .catch((error) => {\n        console.log(error);\n        alert(\"Payment failed\");\n      });\n  };\n  const UpdateOrder=(id)=>{\n    axios\n      .put(\"http://localhost:8054/apicart/Upadtecart\"+\"/\"+id)\n      .then((response) => {\n        console.log(response);\n       // alert(cartId);\n        alert(\"payment success\");\n      })\n      .catch((error) => {\n        console.log(error);\n        alert(\"Payment failed\");\n      });\n  };\n\n  return (\n    <StripeCheckout\n      amount={stripePrice}\n      label=\"Pay Now\"\n      name=\"Wolf Elite\"\n      image=\"https://svgshare.com/i/CUz.svg\"\n      description={`Your total is ${price}`}\n      panelLabel=\"Pay Now\"\n      token={onToken}\n      stripeKey={publishableKey}\n      currency=\"INR\"\n    />\n  );\n};\n\nexport default StripeButton;"]},"metadata":{},"sourceType":"module"}